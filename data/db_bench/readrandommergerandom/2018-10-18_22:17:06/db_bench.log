
[INFO | 2018-10-18 22:17:06,663] start benchmark readrandommergerandom at 2018-10-18_22:17:06
================================================================================
operation_keys_ratio=100
merge_read_ratio=50
data_dir=/mnt/sdc1/rocksdb_data
device_fullname=/dev/sdc1
pdevice_fullname=/dev/sdc
daemon_report_interval_sec=3
db_bench_command=( time /home/ljishen/rocksdb-5.14.3/db_bench --benchmarks=readrandommergerandom --db=/mnt/sdc1/rocksdb_data --key_size=16 --value_size=4096 --threads=15 --disable_wal=0 --stats_per_interval=1 --stats_interval_seconds=60 --histogram=1 --enable_pipelined_write=true --delayed_write_rate=16777216 --wal_dir=/mnt/sdc1/rocksdb_data --table_cache_numshardbits=6 --dump_malloc_stats=true --new_table_reader_for_compaction_inputs=false --compression_type=snappy --max_write_buffer_number=50 --hard_pending_compaction_bytes_limit=274877906944 --fifo_compaction_allow_compaction=false --fifo_compaction_max_table_files_size_mb=1024 --num_levels=7 --block_size=16384 --bytes_per_sync=1048576 --soft_pending_compaction_bytes_limit=68719476736 --hard_pending_compaction_bytes_limit=274877906944 --max_background_jobs=24 --max_background_flushes=24 --max_background_compactions=24 --subcompactions=3 --min_level_to_compress=2 --max_bytes_for_level_base=1073741824 --level0_file_num_compaction_trigger=2 --write_buffer_size=536870912 --min_write_buffer_number_to_merge=1 --max_compaction_bytes=1677721600 --level0_slowdown_writes_trigger=30 --level0_stop_writes_trigger=54 --target_file_size_base=67108864 --bytes_per_sync=1048576 --use_existing_db=1 --merge_keys=5242880 --merge_operator='put' --num=349525 --seed=1539926226 --mergereadpercent=50 ) 2>&1 | tee -a /home/ljishen/ycsb-rocksdb/analysis/data/db_bench/db_bench.log
================================================================================

[INFO | 2018-10-18 22:17:06,689] configuring scaling governor to performance for online CPUs
Successfully updated scaling governor for CPUs [0-23].

[INFO | 2018-10-18 22:17:06,736] set the nofile soft limit to 63536

[INFO | 2018-10-18 22:17:06,740] mpstat command: S_TIME_FORMAT=ISO nohup stdbuf -oL -eL mpstat -P ALL 3 < /dev/null > /home/ljishen/ycsb-rocksdb/analysis/data/db_bench/mpstat.log 2>&1 &

[INFO | 2018-10-18 22:17:06,744] mpstat daemon is running (PID=16026)

[INFO | 2018-10-18 22:17:06,748] iostat command: S_TIME_FORMAT=ISO nohup stdbuf -oL -eL iostat -dktxyzH -g /dev/sdc1 3 < /dev/null > /home/ljishen/ycsb-rocksdb/analysis/data/db_bench/iostat.log 2>&1 &

[INFO | 2018-10-18 22:17:06,752] iostat daemon is running (PID=16041)

[INFO | 2018-10-18 22:17:06,756] pidstat command: S_TIME_FORMAT=ISO nohup stdbuf -oL -eL pidstat -G db_bench -ult 3 < /dev/null > /home/ljishen/ycsb-rocksdb/analysis/data/db_bench/pidstat.log 2>&1 &

[INFO | 2018-10-18 22:17:06,760] pidstat daemon is running (PID=16056)

[INFO | 2018-10-18 22:17:06,763] freeing the slab objects and pagecache

[INFO | 2018-10-18 22:17:08,055] saving stats for disk /dev/sdc (before)

RocksDB:    version 5.14
Date:       Thu Oct 18 22:19:27 2018
CPU:        24 * Intel(R) Xeon(R) CPU E5-2630 v2 @ 2.60GHz
CPUCache:   15360 KB
2018/10/18-22:20:28  ... thread 8: (19000,19000) ops and (308.5,308.5) ops/second in (61.589513,61.589513) seconds
2018/10/18-22:20:28  ... thread 14: (20000,20000) ops and (324.5,324.5) ops/second in (61.633663,61.633663) seconds
2018/10/18-22:20:29  ... thread 7: (20000,20000) ops and (322.9,322.9) ops/second in (61.941745,61.941745) seconds
2018/10/18-22:20:29  ... thread 13: (20000,20000) ops and (322.2,322.2) ops/second in (62.065695,62.065695) seconds
2018/10/18-22:20:29  ... thread 12: (19000,19000) ops and (305.7,305.7) ops/second in (62.160913,62.160913) seconds
2018/10/18-22:20:29  ... thread 3: (20000,20000) ops and (321.0,321.0) ops/second in (62.308180,62.308180) seconds
2018/10/18-22:20:29  ... thread 4: (20000,20000) ops and (321.0,321.0) ops/second in (62.310887,62.310887) seconds
2018/10/18-22:20:29  ... thread 0: (20000,20000) ops and (321.0,321.0) ops/second in (62.312319,62.312319) seconds

** Compaction Stats [default] **
Level    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
----------------------------------------------------------------------------------------------------------------------------------------------------------
  L0     38/36  18.23 GB   1.0      0.0     0.0      0.0      18.7     18.7       0.0   1.0      0.0    222.9        86        39    2.204       0      0
  L1      3/1    1.45 GB   1.0      0.0     0.0      0.0       0.0      0.0       0.5   0.0      0.0      0.0         0         0    0.000       0      0
  L2      5/0   272.86 MB   0.0      0.5     0.5      0.0       0.3      0.3       0.0   0.6     66.4     36.7         7         1    7.440    125K      0
 Sum     46/37  19.95 GB   0.0      0.5     0.5      0.0      19.0     19.0       0.5   1.0      5.3    208.1        93        40    2.335    125K      0
 Int      0/0    0.00 KB   0.0      0.5     0.5      0.0       0.7      0.7       0.5   1.6     28.9     44.6        17         2    8.540    125K      0
Uptime(secs): 200.9 total, 62.3 interval
Flush(GB): cumulative 18.711, interval 0.477
AddFile(GB): cumulative 0.000, interval 0.000
AddFile(Total Files): cumulative 0, interval 0
AddFile(L0 Files): cumulative 0, interval 0
AddFile(Keys): cumulative 0, interval 0
Cumulative compaction: 18.98 GB write, 96.71 MB/s write, 0.48 GB read, 2.46 MB/s read, 93.4 seconds
Interval compaction: 0.74 GB write, 12.22 MB/s write, 0.48 GB read, 7.93 MB/s read, 17.1 seconds
Stalls(count): 4 level0_slowdown, 3 level0_slowdown_with_compaction, 0 level0_numfiles, 0 level0_numfiles_with_compaction, 0 stop for pending_compaction_bytes, 0 slowdown for pending_compaction_bytes, 0 memtable_compaction, 0 memtable_slowdown, interval 3 total count

** File Read Latency Histogram By Level [default] **

** DB Stats **
Uptime(secs): 200.9 total, 62.3 interval
Cumulative writes: 149K writes, 149K keys, 61K commit groups, 2.4 writes per commit group, ingest: 0.57 GB, 2.92 MB/s
Cumulative WAL: 149K writes, 0 syncs, 149241.00 writes per sync, written: 0.57 GB, 2.92 MB/s
Cumulative stall: 00:00:36.499 H:M:S, 18.2 percent
Interval writes: 149K writes, 149K keys, 61K commit groups, 2.4 writes per commit group, ingest: 586.52 MB, 9.41 MB/s
Interval WAL: 149K writes, 0 syncs, 149241.00 writes per sync, written: 0.57 MB, 9.41 MB/s
Interval stall: 00:00:36.499 H:M:S, 58.6 percent

2018/10/18-22:20:29  ... thread 5: (20000,20000) ops and (320.5,320.5) ops/second in (62.408182,62.408182) seconds
2018/10/18-22:20:30  ... thread 6: (20000,20000) ops and (318.3,318.3) ops/second in (62.833696,62.833696) seconds
2018/10/18-22:20:30  ... thread 2: (20000,20000) ops and (315.9,315.9) ops/second in (63.315093,63.315093) seconds
2018/10/18-22:20:30  ... thread 11: (20000,20000) ops and (314.6,314.6) ops/second in (63.566943,63.566943) seconds
2018/10/18-22:20:31  ... thread 10: (20000,20000) ops and (313.7,313.7) ops/second in (63.747268,63.747268) seconds
2018/10/18-22:20:31  ... thread 1: (20000,20000) ops and (313.6,313.6) ops/second in (63.770670,63.770670) seconds
2018/10/18-22:20:31  ... thread 9: (20000,20000) ops and (311.1,311.1) ops/second in (64.287005,64.287005) seconds
2018/10/18-22:21:29  ... thread 14: (104000,124000) ops and (1731.4,1018.9) ops/second in (60.067159,121.700822) seconds
2018/10/18-22:21:29  ... thread 8: (103000,122000) ops and (1709.3,1001.3) ops/second in (60.257397,121.846910) seconds
2018/10/18-22:21:29  ... thread 7: (104000,124000) ops and (1731.4,1016.3) ops/second in (60.066276,122.008021) seconds
2018/10/18-22:21:29  ... thread 12: (100000,119000) ops and (1666.5,974.1) ops/second in (60.004493,122.165406) seconds
2018/10/18-22:21:29  ... thread 3: (105000,125000) ops and (1749.1,1021.7) ops/second in (60.031690,122.339870) seconds
2018/10/18-22:21:29  ... thread 13: (110000,130000) ops and (1823.4,1062.2) ops/second in (60.326870,122.392565) seconds
2018/10/18-22:21:29  ... thread 0: (108000,128000) ops and (1796.3,1045.4) ops/second in (60.123763,122.436082) seconds

** Compaction Stats [default] **
Level    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
----------------------------------------------------------------------------------------------------------------------------------------------------------
  L0      6/4   21.03 GB   2.3     19.2     0.0     19.2      40.2     21.0       0.0   1.9    104.7    219.6       187        46    4.076   4985K      0
  L1      2/2   988.29 MB   0.0      0.0     0.0      0.0       0.0      0.0       0.5   0.0      0.0      0.0         0         0    0.000       0      0
  L2     10/0   545.71 MB   0.1      1.0     1.0      0.0       0.5      0.5       0.0   0.6     11.0      6.1        89         2   44.740    250K      0
 Sum     18/6   22.53 GB   0.0     20.1     1.0     19.2      40.7     21.6       0.5   1.9     74.5    150.6       277        48    5.770   5236K      0
 Int      0/0    0.00 KB   0.0     19.7     0.5     19.2      21.8      2.6       0.0   9.1    109.6    121.4       184         8   22.949   5111K      0
Uptime(secs): 261.1 total, 60.1 interval
Flush(GB): cumulative 21.095, interval 2.384
AddFile(GB): cumulative 0.000, interval 0.000
AddFile(Total Files): cumulative 0, interval 0
AddFile(L0 Files): cumulative 0, interval 0
AddFile(Keys): cumulative 0, interval 0
Cumulative compaction: 40.74 GB write, 159.79 MB/s write, 20.14 GB read, 79.00 MB/s read, 277.0 seconds
Interval compaction: 21.76 GB write, 370.61 MB/s write, 19.66 GB read, 334.82 MB/s read, 183.6 seconds
Stalls(count): 5 level0_slowdown, 4 level0_slowdown_with_compaction, 0 level0_numfiles, 0 level0_numfiles_with_compaction, 0 stop for pending_compaction_bytes, 0 slowdown for pending_compaction_bytes, 0 memtable_compaction, 0 memtable_slowdown, interval 1 total count

** File Read Latency Histogram By Level [default] **

** DB Stats **
Uptime(secs): 261.1 total, 60.1 interval
Cumulative writes: 954K writes, 954K keys, 702K commit groups, 1.4 writes per commit group, ingest: 3.67 GB, 14.38 MB/s
Cumulative WAL: 954K writes, 0 syncs, 954486.00 writes per sync, written: 3.67 GB, 14.38 MB/s
Cumulative stall: 00:00:54.658 H:M:S, 20.9 percent
Interval writes: 805K writes, 805K keys, 640K commit groups, 1.3 writes per commit group, ingest: 3168.18 MB, 52.69 MB/s
Interval WAL: 805K writes, 0 syncs, 805245.00 writes per sync, written: 3.09 MB, 52.69 MB/s
Interval stall: 00:00:18.159 H:M:S, 30.2 percent

2018/10/18-22:21:29  ... thread 4: (113000,133000) ops and (1873.4,1084.6) ops/second in (60.318156,122.629043) seconds
2018/10/18-22:21:29  ... thread 5: (108000,128000) ops and (1793.3,1043.8) ops/second in (60.225675,122.633857) seconds
2018/10/18-22:21:30  ... thread 6: (106000,126000) ops and (1765.6,1025.5) ops/second in (60.037672,122.871368) seconds
2018/10/18-22:21:30  ... thread 2: (112000,132000) ops and (1862.0,1069.1) ops/second in (60.150424,123.465517) seconds
2018/10/18-22:21:31  ... thread 11: (112000,132000) ops and (1862.3,1067.0) ops/second in (60.139422,123.706365) seconds
2018/10/18-22:21:31  ... thread 10: (111000,131000) ops and (1845.8,1057.4) ops/second in (60.136874,123.884142) seconds
2018/10/18-22:21:31  ... thread 1: (118000,138000) ops and (1961.6,1113.6) ops/second in (60.155941,123.926611) seconds
2018/10/18-22:21:32  ... thread 9: (116000,136000) ops and (1919.7,1090.5) ops/second in (60.426714,124.713719) seconds
2018/10/18-22:22:29  ... thread 14: (185000,309000) ops and (3080.0,1700.0) ops/second in (60.064864,181.765686) seconds
2018/10/18-22:22:29  ... thread 8: (178000,300000) ops and (2960.4,1648.6) ops/second in (60.127879,181.974789) seconds
2018/10/18-22:22:29  ... thread 7: (169000,293000) ops and (2816.1,1609.7) ops/second in (60.011673,182.019694) seconds
2018/10/18-22:22:29  ... thread 3: (161000,286000) ops and (2677.8,1567.4) ops/second in (60.124776,182.464646) seconds
2018/10/18-22:22:29  ... thread 0: (173000,301000) ops and (2880.2,1649.3) ops/second in (60.064766,182.500848) seconds

** Compaction Stats [default] **
Level    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
----------------------------------------------------------------------------------------------------------------------------------------------------------
  L0      8/8   24.71 GB   0.0     23.0     0.0     23.0      47.7     24.7       0.0   1.9     93.5    193.9       252        56    4.499   5977K      0
  L1      2/2   988.29 MB   0.0      0.0     0.0      0.0       0.0      0.0       0.5   0.0      0.0      0.0         0         0    0.000       0      0
  L2     10/0   545.71 MB   0.1      1.0     1.0      0.0       0.5      0.5       0.0   0.6     11.0      6.1        89         2   44.740    250K      0
 Sum     20/10  26.21 GB   0.0     24.0     1.0     23.0      48.2     25.2       0.5   1.9     71.9    144.7       341        58    5.886   6228K      0
 Int      0/0    0.00 KB   0.0      3.8     0.0      3.8       7.5      3.7       0.0   2.0     60.6    119.1        64        10    6.443    991K      0
Uptime(secs): 321.1 total, 60.1 interval
Flush(GB): cumulative 24.910, interval 3.815
AddFile(GB): cumulative 0.000, interval 0.000
AddFile(Total Files): cumulative 0, interval 0
AddFile(L0 Files): cumulative 0, interval 0
AddFile(Keys): cumulative 0, interval 0
Cumulative compaction: 48.23 GB write, 153.81 MB/s write, 23.96 GB read, 76.39 MB/s read, 341.4 seconds
Interval compaction: 7.50 GB write, 127.80 MB/s write, 3.82 GB read, 65.04 MB/s read, 64.4 seconds
Stalls(count): 5 level0_slowdown, 4 level0_slowdown_with_compaction, 0 level0_numfiles, 0 level0_numfiles_with_compaction, 0 stop for pending_compaction_bytes, 0 slowdown for pending_compaction_bytes, 0 memtable_compaction, 0 memtable_slowdown, interval 0 total count

** File Read Latency Histogram By Level [default] **

** DB Stats **
Uptime(secs): 321.1 total, 60.1 interval
Cumulative writes: 2255K writes, 2255K keys, 1774K commit groups, 1.3 writes per commit group, ingest: 8.67 GB, 27.64 MB/s
Cumulative WAL: 2255K writes, 0 syncs, 2255791.00 writes per sync, written: 8.67 GB, 27.64 MB/s
Cumulative stall: 00:00:54.658 H:M:S, 17.0 percent
Interval writes: 1301K writes, 1301K keys, 1072K commit groups, 1.2 writes per commit group, ingest: 5120.32 MB, 85.25 MB/s
Interval WAL: 1301K writes, 0 syncs, 1301305.00 writes per sync, written: 5.00 MB, 85.25 MB/s
Interval stall: 00:00:0.000 H:M:S, 0.0 percent

2018/10/18-22:22:30  ... thread 12: (181000,300000) ops and (2966.9,1637.8) ops/second in (61.006653,183.172059) seconds
2018/10/18-22:22:30  ... thread 13: (182000,312000) ops and (2991.0,1702.7) ops/second in (60.849408,183.241973) seconds
2018/10/18-22:22:30  ... thread 5: (177000,305000) ops and (2919.2,1664.2) ops/second in (60.633550,183.267407) seconds
2018/10/18-22:22:30  ... thread 6: (174000,300000) ops and (2879.6,1636.7) ops/second in (60.424193,183.295561) seconds
2018/10/18-22:22:30  ... thread 4: (183000,316000) ops and (3015.7,1723.8) ops/second in (60.683018,183.312061) seconds
2018/10/18-22:22:30  ... thread 2: (177000,309000) ops and (2948.9,1684.0) ops/second in (60.021759,183.487276) seconds
2018/10/18-22:22:32  ... thread 11: (163000,295000) ops and (2665.7,1595.9) ops/second in (61.147281,184.853646) seconds
2018/10/18-22:22:32  ... thread 1: (165000,303000) ops and (2706.9,1638.9) ops/second in (60.955207,184.881818) seconds
2018/10/18-22:22:32  ... thread 9: (157000,293000) ops and (2608.6,1584.7) ops/second in (60.184848,184.898567) seconds
2018/10/18-22:22:32  ... thread 10: (159000,290000) ops and (2593.2,1565.9) ops/second in (61.315260,185.199402) seconds
Initializing RocksDB Options from the specified file
Initializing RocksDB Options from command-line flags
Keys:       16 bytes each
Values:     4096 bytes each (2048 bytes after compression)
Entries:    349525
Prefix:    0 bytes
Keys per prefix:    0
RawSize:    1370.7 MB (estimated)
FileSize:   688.0 MB (estimated)
Write rate: 0 bytes/second
Read rate: 0 ops/second
Compression: Snappy
Memtablerep: skip_list
Perf Level: 1
------------------------------------------------
DB path: [/mnt/sdc1/rocksdb_data]
readrandommergerandom :      40.003 micros/op 24998 ops/sec; (reads:174616 merges:174909 total:349525 hits:174616 maxlength:4096)
Microseconds per read:
Count: 2620372 Average: 931.8175  StdDev: 248.57
Min: 6  Median: 95.5509  Max: 5203329
Percentiles: P50: 95.55 P75: 129.57 P99: 6874.11 P99.9: 101423.30 P99.99: 1123209.33
------------------------------------------------------
(       4,       6 ]        1   0.000%   0.000% 
(       6,      10 ]       15   0.001%   0.001% 
(      10,      15 ]     1496   0.057%   0.058% 
(      15,      22 ]    47230   1.802%   1.860% 
(      22,      34 ]   100499   3.835%   5.695% #
(      34,      51 ]   156550   5.974%  11.670% #
(      51,      76 ]   440986  16.829%  28.499% ###
(      76,     110 ]   979796  37.391%  65.890% #######
(     110,     170 ]   731770  27.926%  93.817% ######
(     170,     250 ]   114204   4.358%  98.175% #
(     250,     380 ]     7410   0.283%  98.458% 
(     380,     580 ]     4512   0.172%  98.630% 
(     580,     870 ]     3108   0.119%  98.748% 
(     870,    1300 ]     1252   0.048%  98.796% 
(    1300,    1900 ]      603   0.023%  98.819% 
(    1900,    2900 ]      801   0.031%  98.850% 
(    2900,    4400 ]     1358   0.052%  98.902% 
(    4400,    6600 ]     2355   0.090%  98.992% 
(    6600,    9900 ]     2676   0.102%  99.094% 
(    9900,   14000 ]     1422   0.054%  99.148% 
(   14000,   22000 ]     2178   0.083%  99.231% 
(   22000,   33000 ]     4032   0.154%  99.385% 
(   33000,   50000 ]     7713   0.294%  99.679% 
(   50000,   75000 ]     4431   0.169%  99.848% 
(   75000,  110000 ]     1793   0.068%  99.917% 
(  110000,  170000 ]     1250   0.048%  99.964% 
(  170000,  250000 ]      385   0.015%  99.979% 
(  250000,  380000 ]       95   0.004%  99.983% 
(  380000,  570000 ]       64   0.002%  99.985% 
(  570000,  860000 ]       46   0.002%  99.987% 
(  860000, 1200000 ]      102   0.004%  99.991% 
( 1200000, 1900000 ]       88   0.003%  99.994% 
( 1900000, 2900000 ]       16   0.001%  99.995% 
( 2900000, 4300000 ]       27   0.001%  99.996% 
( 4300000, 6500000 ]      108   0.004% 100.000% 

Microseconds per merge:
Count: 2622503 Average: 249.9576  StdDev: 1003.04
Min: 12  Median: 41.7383  Max: 43026
Percentiles: P50: 41.74 P75: 81.33 P99: 5812.75 P99.9: 9480.09 P99.99: 12107.20
------------------------------------------------------
(      10,      15 ]    27926   1.065%   1.065% 
(      15,      22 ]   373816  14.254%  15.319% ###
(      22,      34 ]   674547  25.721%  41.041% #####
(      34,      51 ]   516178  19.683%  60.723% ####
(      51,      76 ]   350442  13.363%  74.086% ###
(      76,     110 ]   152758   5.825%  79.911% #
(     110,     170 ]   130165   4.963%  84.874% #
(     170,     250 ]   199687   7.614%  92.489% ##
(     250,     380 ]    50691   1.933%  94.422% 
(     380,     580 ]    15244   0.581%  95.003% 
(     580,     870 ]     4744   0.181%  95.184% 
(     870,    1300 ]    37482   1.429%  96.613% 
(    1300,    1900 ]     1140   0.043%  96.657% 
(    1900,    2900 ]     7975   0.304%  96.961% 
(    2900,    4400 ]    39098   1.491%  98.451% 
(    4400,    6600 ]    22401   0.854%  99.306% 
(    6600,    9900 ]    17859   0.681%  99.987% 
(    9900,   14000 ]      163   0.006%  99.993% 
(   14000,   22000 ]       47   0.002%  99.995% 
(   22000,   33000 ]       65   0.002%  99.997% 
(   33000,   50000 ]       75   0.003% 100.000% 


real	5m59.143s
user	4m6.100s
sys	3m54.800s

[INFO | 2018-10-18 22:23:07,405] saving stats for disk /dev/sdc (after)

[INFO | 2018-10-18 22:23:07,657] stopping mpstat daemon

[INFO | 2018-10-18 22:23:07,796] stopping iostat daemon

[INFO | 2018-10-18 22:23:07,826] stopping pidstat daemon

[INFO | 2018-10-18 22:23:07,839] backuping files to dir /home/ljishen/ycsb-rocksdb/analysis/data/db_bench/2018-10-18_22:17:06
